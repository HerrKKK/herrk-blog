<html>
    <head>
        <meta charset="UTF-8">
        <title>sign in</title>
    </head>

    <script>
        function login() {
            var xmlHttp = new XMLHttpRequest();
            xmlHttp.onreadystatechange = function() {
                if (4 == xmlHttp.readyState && 200 == xmlHttp.status) {
                    if ("fail" == xmlHttp.responseText) {
                        alert("Mismatch between Username and Password!");
                    } else {
                        sessionStorage.setItem("token", xmlHttp.responseText);
                        window.location = "/";
                    }
                }
            }

            xmlHttp.open("POST", "usermanage", true);
            xmlHttp.setRequestHeader('content-type', 'application/x-www-form-urlencoded');
            var username = document.getElementsByName("username")[0].value;
            var password = document.getElementsByName("password")[0].value;
            var parameter = 'action=login&username='+username+'&password='+password;
            xmlHttp.send(parameter);
        }
    </script>

    <body>

        <form action="usermanage" method="post">

            <div align = "center">
                <span>UserName</span><input type="text" name="username">
            </div>
        </br>
            <div align = "center">
                <span>Password</span><input type="password" name="password">
            </div>
        </br>
            <div align = "center">
                <input type="button" value="Sign In" onclick="login()">
            </div>

        </form>

    </body>

</html>
